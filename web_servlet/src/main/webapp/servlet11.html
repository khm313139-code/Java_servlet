<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Front에서 배열값을 이용한 checkbox 전송 방식</title>
</head>
<body>
<form id="frm" method="get" action="./servlet11.do">
<p>같은 프로젝트를 하고 싶은 이용자를 선택하세요</p> 
<!-- p 태그나 div 같은 태그들은 name 붙여도 빽엔드 한테 못 날린다.(object 태그) / 사용자가 입력하거나 선택하는 것에만 name 붙여서 날림-->
<div id = "list">
	
	
	
</div>
<input type="button" value="선택완료" onclick="gopage()"> 
</form>
</body>
<script>
	var userlist = ["권하민","김고운","김동완","김예빈","박순수","신범석","허대회"] 
	//배열 기호 [] 쓰면 안됨 / 이 배열 돌려서 div list에 찍을거임

	function gopage(){ //2명 이상 선택이 되어야만 form 전송을 할 수 있도록 적용함
		var count = 0;
		var f;
		for(f=0; f<userlist.length; f++){ //배열의 갯수 만큼 반복 시켜서 체크 확인
			if(frm.user[f].checked == true){ //체크된 사항 조건일 경우 카운팅 + 1 씩 증가
				//console.log(frm.user[f].value); //체크된 벨류만 찍어봄
				count++;
			}			
		}
		//체크된 사항이 2개 미만일 경우 해당 조건 내용 출력
		if(count < 2){
			alert("최소 2명 이상 선택하셔야 합니다.");
		}
		else{ //2개 이상일 경우 back-end로 전달(get 통신)
			frm.submit();	
		}		
			
	}
	
	
	
	var w = 0;
	var html = ""; //html 코드를 누적시키는 변수
	while(w < userlist.length){
		html += "<span><input type='checkbox' name='user' value='"+userlist[w]+"'>"
		 +userlist[w]+"</span><br>"; 
		//같은 이름으로 보내면 배열로 찍히니 뒤에서 받을 때도 배열로 받아야한다.
		w++;
	}
	document.getElementById("list").innerHTML = html;
	
</script>
</html>